<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ParkFast Owner</title>

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:Arial, Helvetica, sans-serif;
}

body{
background:#f4f6f9;
}

/* NAVBAR */
.nav{
background:#1f2937;
height:60px;
display:flex;
align-items:center;
justify-content:space-between;
padding:0 20px;
color:white;
}

.nav-left{
display:flex;
align-items:center;
gap:12px;
}

.profile{
width:42px;
height:42px;
border-radius:50%;
overflow:hidden;
background:white;
}

.profile img{
width:100%;
height:100%;
object-fit:cover;
}

.nav-right{
display:flex;
gap:15px;
}

.nav-right button{
background:none;
border:none;
color:white;
cursor:pointer;
padding:6px 10px;
border-radius:6px;
}

.nav-right button:hover{
background:#374151;
}

/* CONTAINER */
.container{
padding:20px;
max-width:1200px;
margin:auto;
}

/* SUMMARY CARDS */
.cards{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
gap:20px;
margin-bottom:30px;
}

.card{
background:white;
padding:20px;
border-radius:10px;
box-shadow:0 5px 15px rgba(0,0,0,0.08);
}

.card h3{
margin-bottom:8px;
color:#2d8cff;
}

/* PARKING LOCATION CARDS */
.location-cards{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
gap:20px;
}

.location-card{
background:white;
padding:20px;
border-radius:12px;
box-shadow:0 5px 15px rgba(0,0,0,0.08);
cursor:pointer; /* clickable */
}

.location-card h3{
margin-bottom:6px;
color:#1f2937;
}

.location-card p{
font-size:14px;
margin:4px 0;
}

/* MODAL */
.modal{
display:none;
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.5);
justify-content:center;
align-items:center;
}

.modal-content{
background:white;
padding:25px;
border-radius:12px;
width:350px;
}

.modal-content input{
width:100%;
padding:8px;
margin:6px 0;
}

.modal-content button{
width:100%;
padding:10px;
background:#2d8cff;
border:none;
color:white;
cursor:pointer;
margin-top:10px;
}
</style>
</head>

<body>

<div class="nav">
<div class="nav-left">
<div class="profile">
<img src="carparking.jpeg">
</div>
<div>ParkFast Owner</div>
</div>

<div class="nav-right">
<button onclick="openModal()">Add Parking</button>
<button>Logout</button>
</div>
</div>

<div class="container">

<h2>Welcome, Owner ðŸ‘‹</h2>

<div class="cards">
<div class="card">
<h3>Total Locations</h3>
<p id="totalLocations">0</p>
</div>

<div class="card">
<h3>Total Slots</h3>
<p id="totalSlots">0</p>
</div>

<div class="card">
<h3>Total Earnings</h3>
<p id="totalEarnings">â‚¹0</p>
</div>
</div>

<h3>Your Parking Locations</h3>
<div class="location-cards" id="locationCards"></div>

</div>

<div class="modal" id="parkingModal">
<div class="modal-content">

<h3>Add Parking Location</h3>

<input id="companyName" placeholder="Company Name">
<input id="ownerName" placeholder="Owner Name">
<input id="locationName" placeholder="Location Name">
<input id="address" placeholder="Address">
<input id="totalSlotInput" type="number" placeholder="Total Slots">
<input id="bikePrice" placeholder="Bike Price">
<input id="carPrice" placeholder="Car Price">
<input id="truckPrice" placeholder="Truck Price">

<button onclick="addParking()">Create Parking</button>

</div>
</div>

<script>

let locations = [];

function openModal(){
document.getElementById("parkingModal").style.display="flex";
}

window.onclick = function(e){
if(e.target==document.getElementById("parkingModal")){
document.getElementById("parkingModal").style.display="none";
}
}

function addParking(){

let company = companyName.value;
let owner = ownerName.value;
let name = locationName.value;
let addressVal = address.value;
let totalSlots = parseInt(totalSlotInput.value);
let bike = bikePrice.value;
let car = carPrice.value;
let truck = truckPrice.value;

if(!company || !name || !totalSlots){
alert("Please fill required fields");
return;
}

let newLocation = {
company,
owner,
name,
address:addressVal,
totalSlots,
availableSlots:totalSlots,
prices:{bike,car,truck},
earnings:0
};

locations.push(newLocation);
renderLocations();
updateSummary();

document.getElementById("parkingModal").style.display="none";
}

function renderLocations(){

let container = document.getElementById("locationCards");
container.innerHTML="";

locations.forEach(loc=>{

let card = document.createElement("div");
card.className="location-card";

card.innerHTML=`
<h3>${loc.name}</h3>
<p><strong>Company:</strong> ${loc.company}</p>
<p><strong>Owner:</strong> ${loc.owner}</p>
<p><strong>Slots:</strong> ${loc.availableSlots}/${loc.totalSlots}</p>
<p><strong>Prices:</strong> Bike â‚¹${loc.prices.bike} | Car â‚¹${loc.prices.car} | Truck â‚¹${loc.prices.truck}</p>
<p><strong>Earnings:</strong> â‚¹${loc.earnings}</p>
`;


// âœ… ONLY ADDED THIS (SEND + REDIRECT)
card.onclick = function(){
localStorage.setItem("selectedLocation", JSON.stringify(loc));
window.location.href = "locationAn.html";
};

container.appendChild(card);

});

}

function updateSummary(){
document.getElementById("totalLocations").innerText = locations.length;

let totalSlots = locations.reduce((sum,loc)=>sum+loc.totalSlots,0);
document.getElementById("totalSlots").innerText = totalSlots;

let earnings = locations.reduce((sum,loc)=>sum+loc.earnings,0);
document.getElementById("totalEarnings").innerText = "â‚¹"+earnings;
}

</script>

</body>
</html>