<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Customer - Smart Parking</title>
<style>
/* ===== Body & Fonts ===== */
body {
    font-family: 'Segoe UI', sans-serif;
    margin: 0; padding: 0;
    background: linear-gradient(-45deg,#0f2027,#203a43,#2c5364,#0f2027);
    background-size: 400% 400%;
    animation: gradientBG 15s ease infinite;
    color: white;
    min-height: 100vh;
    padding: 30px;
}
@keyframes gradientBG {
    0% {background-position:0% 50%;}
    50% {background-position:100% 50%;}
    100% {background-position:0% 50%;}
}
h1 { text-align:center; font-size:36px; margin-bottom:30px; }

/* ===== Summary Cards ===== */
.summary-cards { display:flex; justify-content: space-around; flex-wrap:wrap; gap:20px; margin-bottom:40px; }
.summary-card {
    flex:1; min-width:200px; background: rgba(255,255,255,0.15);
    backdrop-filter: blur(10px); padding:20px; border-radius:20px;
    text-align:center; box-shadow:0 10px 25px rgba(0,0,0,0.3); transition:0.4s;
}
.summary-card:hover { transform: scale(1.05); background: rgba(255,255,255,0.25); }
.summary-card h2 { font-size:36px; margin-bottom:5px; }
.summary-card p { font-size:16px; }

/* ===== Vehicle Cards ===== */
.vehicle-cards { display:flex; justify-content:space-around; flex-wrap:wrap; gap:20px; margin-bottom:40px; }
.vehicle-card {
    background: rgba(255,255,255,0.15); backdrop-filter:blur(10px);
    padding:20px; border-radius:20px; width:250px; text-align:center;
    box-shadow:0 15px 30px rgba(0,0,0,0.3); transition:0.4s;
}
.vehicle-card:hover { transform:scale(1.05); background: rgba(255,255,255,0.25); }
.vehicle-card img { width:100px; height:100px; object-fit:contain; margin-bottom:15px; }
.vehicle-card h3 { margin-bottom:10px; }
.vehicle-card p { margin-bottom:8px; font-size:16px; }
.vehicle-card button {
    padding:10px 20px; border:none; border-radius:30px;
    background: linear-gradient(135deg,#1e3c72,#2a5298); color:white;
    font-weight:bold; cursor:pointer; transition:0.3s;
}
.vehicle-card button:hover { background: linear-gradient(135deg,#2a5298,#1e3c72); }
.vehicle-card button:disabled { opacity:0.6; cursor:not-allowed; }

/* ===== Modal ===== */
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; 
         background: rgba(0,0,0,0.7); justify-content:center; align-items:center; }
.modal-content {
    background: rgba(255,255,255,0.1); backdrop-filter:blur(10px);
    padding:25px; border-radius:20px; width:300px; text-align:center; box-shadow:0 15px 30px rgba(0,0,0,0.5);
    position: relative;
}
.modal-content h2 { margin-bottom:15px; }
.modal-content label { display:block; text-align:left; margin-top:10px; }
.modal-content input { width:100%; padding:10px; margin-top:5px; border-radius:10px; border:none; }
.modal-content button { margin-top:15px; width:100%; padding:12px; border:none; border-radius:30px; cursor:pointer; }
.modal-content .confirm-msg { margin-top:10px; color: #ffd700; font-weight:bold; }

/* ===== Back Link ===== */
.back { display:block; text-align:center; margin-top:30px; text-decoration:none; font-weight:bold; color:white; transition:0.3s; }
.back-up { display:block; text-align:left; margin-top:20px; text-decoration:none; font-weight:bold; color:white; transition:0.3s; }
.back:hover { color:yellow; }

/* ===== Responsive ===== */
@media(max-width:768px){ .vehicle-cards, .summary-cards{ flex-direction:column; gap:20px; } }

</style>
</head>
<body>
<a href="index.html" class="back-up">â¬… Back</a>

<h1>ðŸš— Customer Parking Dashboard</h1>

<!-- Summary Cards -->
<div class="summary-cards">
    <div class="summary-card">
        <h2 id="totalSlots">10</h2>
        <p>Total Slots</p>
    </div>
    <div class="summary-card">
        <h2 id="availableSlots">8</h2>
        <p>Available Slots</p>
    </div>
    <div class="summary-card">
        <h2 id="occupiedSlots">2</h2>
        <p>Occupied Slots</p>
    </div>
</div>

<!-- Vehicle Cards -->
<div class="vehicle-cards" id="vehicleCards"></div>

<a href="index.html" class="back">â¬… Back to Home</a>

<!-- Booking Modal -->
<div class="modal" id="bookingModal">
    <div class="modal-content">
        <h2>Book Slot</h2>
        <label for="custName">Full Name:</label>
        <input type="text" id="custName" placeholder="Enter Name">
        <label for="vehNum">Vehicle Number:</label>
        <input type="text" id="vehNum" placeholder="Enter Vehicle No.">
        <label for="entryTime">Check In Time :</label>
        <input type="datetime-local" id="entryTime">
        <label for="exitTime">Check Out Time:</label>
        <input type="datetime-local" id="exitTime">
        <button id="confirmBooking">Confirm Booking</button>
        <div class="confirm-msg" id="confirmMsg"></div>
    </div>
</div>

<script>
// Vehicle data
let vehicles = [
    { type: "Bike", slots: 5, price: 20, img: "https://img.icons8.com/ios-filled/100/motorcycle.png" },
    { type: "Car", slots: 3, price: 50, img: "https://img.icons8.com/ios-filled/100/car.png" },
    { type: "Truck", slots: 2, price: 100, img: "https://img.icons8.com/ios-filled/100/truck.png" }
];

const container = document.getElementById('vehicleCards');
const modal = document.getElementById('bookingModal');
const confirmMsg = document.getElementById('confirmMsg');
let currentVehicle = null;

// Render vehicle cards
function renderCards(){
    container.innerHTML = "";
    vehicles.forEach((vehicle,index)=>{
        const card = document.createElement('div');
        card.className = 'vehicle-card';
        card.innerHTML = `
            <img src="${vehicle.img}" alt="${vehicle.type}">
            <h3>${vehicle.type}</h3>
            <p>Available Slots: <strong>${vehicle.slots}</strong></p>
            <p>Price per Hour: â‚¹${vehicle.price}</p>
            <button ${vehicle.slots===0?'disabled':''}>${vehicle.slots===0?'Full':'Book Slot'}</button>
        `;
        const btn = card.querySelector('button');
        btn.addEventListener('click', ()=>{
            currentVehicle = index;
            modal.style.display = 'flex';
            confirmMsg.innerText = '';
        });
        container.appendChild(card);
    });
}
renderCards();

// Booking logic
document.getElementById('confirmBooking').addEventListener('click', ()=>{
    const name = document.getElementById('custName').value;
    const vehNo = document.getElementById('vehNum').value;
    const entry = document.getElementById('entryTime').value;
    const exit = document.getElementById('exitTime').value;

    if(!name || !vehNo || !entry){
        alert("Please fill required fields!");
        return;
    }

    // Reduce slot count
    vehicles[currentVehicle].slots -= 1;

    // Show confirmation in modal
    confirmMsg.innerText = `âœ… Booking confirmed for ${vehicles[currentVehicle].type}!`;

    // Clear form fields
    document.getElementById('custName').value = '';
    document.getElementById('vehNum').value = '';
    document.getElementById('entryTime').value = '';
    document.getElementById('exitTime').value = '';

    // Update cards and summary
    renderCards();
    updateSummary();

    // Close modal after 2 seconds
    setTimeout(()=>{ modal.style.display = 'none'; confirmMsg.innerText = ''; }, 2000);
});

// Close modal when clicking outside
window.addEventListener('click', e=>{
    if(e.target===modal) modal.style.display='none';
});

// Update summary cards
function updateSummary(){
    const total = vehicles.reduce((acc,v)=>acc.slots+ (10-v.slots-vehicles.filter(veh=>veh!==v).reduce((a,b)=>a+b.slots,0)),0); // placeholder total
    const available = vehicles.reduce((acc,v)=>acc+v.slots,0);
    const occupied = 10 - available; // total slots=10
    document.getElementById('availableSlots').innerText = available;
    document.getElementById('occupiedSlots').innerText = occupied;
}
updateSummary();
</script>

</body>
</html>
